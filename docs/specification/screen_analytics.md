# 画面仕様: 成績統計グラフ (Analytics)

登録された対戦データを様々な角度から視覚化し、自己分析を支援する画面。

## 1. 主要コンポーネント

- **期間フィルター**: 
  - 開始日と終了日を指定し、分析対象の期間を絞り込める。
  - **初期値**: アプリを開いた年の1月1日〜12月31日。
- **タブ (TabLayout + ViewPager2)**
  - **サマリー (Summary) タブ**: 全体の戦績を俯瞰する。
  - **得意なデッキ (Strengths) タブ**: デッキごとのパフォーマンスを比較し、得意なデッキを発見する。
  - **苦手分析 (Weaknesses) タブ**: どのデッキに負け越しているか、どのような状況で負けやすいかを発見する。

## 2. ユーザー操作と挙動

- **期間選択**: 開始日・終了日のテキストをタップするとカレンダーダイアログが表示され、集計期間を変更できる。
- **タブ切り替え**: タブをタップするか、画面を左右にスワイプすることで、表示する分析グラフを切り替える。

## 3. 画面レイアウト

- 画面上部に期間フィルター、その下にタブと、選択されたタブに応じた分析結果（グラフやリスト）を配置する。

## 4. 各コンポーネントの表示仕様

### 4.1. サマリー (Summary) タブ
- **全体統計**: 期間内の「総大会数」「総勝利数」「総敗北数」を表示。
- **個人成績詳細（2重円グラフ）**:
  - **内円**: 個人の総合勝率（%）。
  - **外円**: シングルス/チームスそれぞれでの勝利数・敗北数（実数）。
- **チームへの貢献度（2重円グラフ）**:
  - **内円**: チーム（トリオ）全体としての勝率（%）。
  - **外円**: トリオ戦における自分自身の勝率（%）。チームへの貢献度が視覚的に分かる。

### 4.2. 得意なデッキ (Strengths) タブ
- 期間内に使用したデッキを「勝率」の高い順にリスト表示。
- 各アイテムには「X戦 Y勝 Z敗」形式で詳細な戦績が表示される。

### 4.3. 苦手分析 (Weaknesses) タブ
- **敗戦の内訳（円グラフ）**: 期間内に負けた「相手のデッキ」を円グラフで表示。
- **先攻/後攻 敗率（テーブル）**: 自分が「先攻」の時の敗率と、「後攻」の時の敗率をテーブルで表示。

---
© 2026 Ryuusuke Azuma
