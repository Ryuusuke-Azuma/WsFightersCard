# 画面仕様: スケジュール

カレンダーとタブによって、大会と戦績をシームレスに管理する画面。

## 1. 主要コンポーネント

- **カレンダー (MaterialCalendarView)**: イベントが登録されている日付にドット（装飾）を表示。
- **タブ (TabLayout + ViewPager2)**
  - **Gamesタブ**: 選択日の大会一覧を表示する。
  - **Scoresタブ**: 選択した大会の戦績一覧を表示する。
- **FAB（FloatingActionButton）**: 現在表示中のタブに応じて、追加対象を切り替える。

## 2. ユーザー操作と挙動

### データの閲覧
- **日付選択**: カレンダーで日付をタップすると、その日の大会が「Games」タブに表示される。また、表示中のタブが「Scores」であった場合でも、必ず「Games」タブに切り替わる。
- **大会選択**: 「Games」タブで大会アイテムをタップすると、「Scores」タブへ自動的に切り替わり、その大会の戦績が表示される。
- **今日へ移動**: ツールバーの「Today」ボタンをタップすると、カレンダーが今日の日付にスクロールする。

### データの追加
- **大会の追加**: 
  - 「Games」タブ表示中にFABをタップすると、大会登録ダイアログが開く。
  - **初期値**:
    - **日付**: カレンダーで選択中の日付（デフォルトは今日）。
    - **対戦形式**: 「シングルス」が選択済み。
- **戦績の追加**:
  - 「Scores」タブ表示中にFABをタップすると、現在選択中の大会に対する戦績追加ダイアログが開く。
  - **初期値**:
    - **個人の結果**: 「勝ち」が選択済み。
    - **チームの戦績**: 「2–1」が選択済み。

### データの編集・削除
- 各リストアイテム（大会・戦績）の右側にある「3点リーダー（...）」メニューから行う。
- **編集**: 「Edit」を選択すると、登録時と同様のダイアログが開き、既存のデータが復元された状態で表示される。
- **削除**: 「Delete」を選択すると確認ダイアログが表示され、承認するとデータが削除される。

## 3. 画面レイアウト

- **通常（縦向き）**: 
  - 画面上部にカレンダー、下部にタブ（大会/戦績リスト）を配置する。
- **横向き (`landscape`)**:
  - 画面を左右に分割する2ペイン表示を採用する。
  - 左側（30%）に月表示カレンダーを配置。
  - 右側（70%）にタブと大会/戦績リストを配置する。

## 4. リストアイテム表示仕様

### 4.1. 「大会」タブ (Games)

各アイテムは、以下の要素で構成される。

| 表示箇所 | 内容 | スタイル・挙動 |
| :--- | :--- | :--- |
| **ヘッダー** | **対戦形式** (例: "ネオスタンダード", "トリオ") | ・アイテムの最上部に表示。<br>・右端には編集/削除のための3点リーダーを配置。 |
| **中央・左** | **大会名** (例: "WGP2026 地区大会") | ・太字 (bold), 18sp |
| | **大会メモ** (例: "友人Aとのフリー対戦") | ・大会名の下に表示。<br>・最大2行。それ以上は末尾を省略(...)。<br>・メモが空の場合は、このビューは高さを維持したまま非表示 (`INVISIBLE`) となる。 |
| **中央・右** | **通算成績** (例: "3勝 1敗") | ・緑色の背景に白抜きの文字。<br>・大会名とメモを合わせたブロックに対して、垂直方向に中央揃えで配置される。 |

### 4.2. 「戦績」タブ (Scores)

各アイテムは、以下の要素で構成される。

| 表示箇所 | 内容 | スタイル・挙動 |
| :--- | :--- | :--- |
| **ヘッダー** | **対戦番号** (例: "1.", "2.") | ・アイテムの最上部に表示。<br>・右端には編集/削除のための3点リーダーを配置。 |
| **中央・左** | **対戦デッキ** (例: "ホロライブ vs 転スラ") | |
| | **対戦メモ** | ・対戦デッキの下に表示。<br>・メモが空の場合は非表示 (`GONE`) となる。 |
| **中央・右** | **成績タグ** | ・シングル戦とチーム戦で表示形式が変化する。 |
| | (シングル戦) | ・個人の勝敗のみを**黄色背景**のタグで表示。<br>・例: `[ 勝ち ]` |
| | (チーム戦) | ・チームのスコアを**橙色背景**のタグで表示。<br>・個人の勝敗を**黄色背景**のタグで表示。<br>・2つのタグが横に並ぶ。<br>・例: `[ チーム 2-1 ]` `[ 個人 勝ち ]` |

---
© 2026 Ryuusuke Azuma