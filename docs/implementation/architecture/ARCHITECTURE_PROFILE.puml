@startuml
!define COMPONENT(name) component name
!define FRAGMENT(name) component name <<Fragment>>

package "profile" {
    FRAGMENT(ProfileFragment)
    FRAGMENT(FightersPageFragment)
    FRAGMENT(DecksPageFragment)
    FRAGMENT(ProfileBottomSheet)
    COMPONENT(ProfileViewModel)
    COMPONENT(FightersViewModel)
    COMPONENT(DecksViewModel)

    package "record" {
        FRAGMENT(RecordFighterDialogFragment)
        FRAGMENT(RecordDeckDialogFragment)
        FRAGMENT(DeleteFighterDialogFragment)
        FRAGMENT(DeleteDeckDialogFragment)
        FRAGMENT(SetSelfFighterDialogFragment)
    }
}

package "Data Layer" {
    COMPONENT(FightersRepository)
}

' --- Dependencies ---

ProfileFragment ..> ProfileViewModel
ProfileFragment -> FightersPageFragment : "shows in ViewPager"
ProfileFragment -> DecksPageFragment : "shows in ViewPager"

FightersPageFragment ..> FightersViewModel
DecksPageFragment ..> FightersViewModel
DecksPageFragment ..> DecksViewModel

FightersPageFragment ..> ProfileBottomSheet : "shows"
FightersPageFragment ..> RecordFighterDialogFragment : "shows"
FightersPageFragment ..> DeleteFighterDialogFragment : "shows"
FightersPageFragment ..> SetSelfFighterDialogFragment : "shows"

DecksPageFragment ..> ProfileBottomSheet : "shows"
DecksPageFragment ..> RecordDeckDialogFragment : "shows"
DecksPageFragment ..> DeleteDeckDialogFragment : "shows"

RecordFighterDialogFragment ..> FightersViewModel
RecordDeckDialogFragment ..> DecksViewModel
DeleteFighterDialogFragment ..> FightersViewModel
DeleteDeckDialogFragment ..> DecksViewModel

FightersViewModel -> FightersRepository
DecksViewModel -> FightersRepository
@enduml
