# 画面仕様: プロフィール

自分やフレンドのプロフィール情報、およびファイターごとのデッキを管理する画面。

## 1. 主要コンポーネント

- **タブ (TabLayout + ViewPager2)**
  - **Fightersタブ**: 登録されている全てのファイターを一覧表示する。
  - **Decksタブ**: 「Fighters」タブで選択されたファイターが所有するデッキの一覧を表示する。
- **FAB（FloatingActionButton）**: 現在表示中のタブに応じて、ファイターまたはデッキの追加ダイアログを開く。

## 2. ユーザー操作と挙動

### データの閲覧
- **ファイター選択**: 「Fighters」タブでファイターのリストアイテムをタップすると、そのファイターが「選択状態」になり、表示が自動的に「Decks」タブに切り替わる。
- **タブの切り替え**: ユーザーはタブを直接タップして「Fighters」と「Decks」の表示を切り替えることができる。

### データの追加
- **ファイターの追加**: 
  - 「Fighters」タブ表示中にFABをタップすると、ファイター登録ダイアログが開く。
- **デッキの追加**:
  - 「Decks」タブ表示中にFABをタップすると、現在選択中のファイターに対するデッキ追加ダイアログが開く。

### データの編集・削除
- **操作方法**: 各リストアイテム（ファイター・デッキ）を長押しすると、編集・削除のオプションを持つボトムシートが表示される。
- **編集**: ボトムシートで「Edit」を選択すると、登録時と同様のダイアログが開き、既存のデータが復元された状態で表示される。
- **削除**: ボトムシートで「Delete」を選択すると確認ダイアログが表示され、承認するとデータが削除される。

### 「自分」の設定
- **「自分」の設定**: 「Fighters」タブの各リストアイテムのヘッダーに表示されている星マークのアイコンをタップし、確認ダイアログで「はい」を選択すると、そのファイターが「自分」として設定される。「自分」に設定されたファイターは黄色の星マークで表示され、それ以外はグレー表示となる。

## 3. 画面レイアウト

- **通常（縦向き・横向き共通）**: 
  - 画面上部にタブ（Fighters/Decks）を配置し、その下に各タブに対応するリストコンテンツ（`ViewPager2`）を表示する。

## 4. リストアイテム表示仕様

### 4.1. 「ファイター」タブ (Fighters)

各アイテムは、以下の要素で構成される。

| 表示箇所 | 内容 | スタイル・挙動 |
| :--- | :--- | :--- |
| **ヘッダー** | **"Fighters"** という固定文字列 | ・アイテムの最上部に表示。<br>・右端には「自分に設定」の星マークと、編集/削除のための3点リーダーを配置。 |
| **中央** | **ファイター名** | ・太字 (bold), 18sp |
| | **ファイターメモ** | ・ファイター名の下に表示。<br>・最大1行。それ以上は末尾を省略(...)。<br>・メモが空の場合は非表示 (`GONE`) となる。 |

### 4.2. 「デッキ」タブ (Decks)

各アイテムは、以下の要素で構成される。

| 表示箇所 | 内容 | スタイル・挙動 |
| :--- | :--- | :--- |
| **ヘッダー** | **"Decks"** という固定文字列 | ・アイテムの最上部に表示。<br>・右端には編集/削除のための3点リーダーを配置。 |
| **中央** | **デッキ名** | ・太字 (bold), 18sp |
| | **デッキメモ** | ・デッキ名の下に表示。<br>・最大1行。それ以上は末尾を省略(...)。<br>・メモが空の場合は非表示 (`GONE`) となる。 |

## 5. ダイアログ仕様

### 5.1. ファイター登録・編集ダイアログ (RecordFighterDialogFragment)

| 入力項目 | 内容 | スタイル・挙動 |
| :--- | :--- | :--- |
| **ファイター名** | ファイターの名称入力 | ・`TextInputEditText`を使用。 |
| **メモ** | ファイターの補足情報入力 | ・`TextInputEditText`を使用。<br>・任意入力。 |

### 5.2. デッキ登録・編集ダイアログ (RecordDeckDialogFragment)

| 入力項目 | 内容 | スタイル・挙動 |
| :--- | :--- | :--- |
| **デッキ名** | デッキの名称入力 | ・`TextInputEditText`を使用。 |
| **メモ** | デッキの補足情報入力 | ・`TextInputEditText`を使用。<br>・任意入力。 |

### 5.3. 「自分」の設定確認ダイアログ (SetSelfFighterDialogFragment)

| 項目 | 内容 | 挙動 |
| :--- | :--- | :--- |
| **確認メッセージ** | 設定変更の確認 | ・「このファイターを自分として設定しますか？」という旨を表示。 |
| **ポジティブボタン** | 承認 | ・当該ファイターを `is_self = 1` に更新し、他のファイターを `0` にリセットする。 |

---
© 2026 Ryuusuke Azuma
