@startuml
!define COMPONENT(name) component name
!define FRAGMENT(name) component name <<Fragment>>

package "analytics" {
    FRAGMENT(AnalyticsFragment)
    FRAGMENT(SummaryPageFragment)
    FRAGMENT(StrengthsPageFragment)
    FRAGMENT(WeaknessPageFragment)
    COMPONENT(AnalyticsViewModel)
    COMPONENT(SummaryViewModel)
    COMPONENT(StrengthsViewModel)
    COMPONENT(WeaknessViewModel)

    package "models" {
        COMPONENT(DetailedWinLose)
        COMPONENT(FirstSecondLossRates)
        COMPONENT(OpponentLossStat)
        COMPONENT(StrengthStat)
    }
}

package "Data Layer" {
    COMPONENT(FightersRepository)
}

' --- Dependencies ---

AnalyticsFragment ..> AnalyticsViewModel
AnalyticsFragment -> SummaryPageFragment : "shows in ViewPager"
AnalyticsFragment -> StrengthsPageFragment : "shows in ViewPager"
AnalyticsFragment -> WeaknessPageFragment : "shows in ViewPager"

SummaryPageFragment ..> AnalyticsViewModel
SummaryPageFragment ..> SummaryViewModel
StrengthsPageFragment ..> AnalyticsViewModel
StrengthsPageFragment ..> StrengthsViewModel
WeaknessPageFragment ..> AnalyticsViewModel
WeaknessPageFragment ..> WeaknessViewModel

SummaryViewModel -> FightersRepository
SummaryViewModel .> DetailedWinLose : uses
StrengthsViewModel -> FightersRepository
StrengthsViewModel .> StrengthStat : uses
WeaknessViewModel -> FightersRepository
WeaknessViewModel .> FirstSecondLossRates : uses
WeaknessViewModel .> OpponentLossStat : uses

@enduml
