@startuml
!define COMPONENT(name) component name
!define FRAGMENT(name) component name <<Fragment>>

package "schedule" {
    FRAGMENT(ScheduleFragment)
    FRAGMENT(GamesPageFragment)
    FRAGMENT(ScoresPageFragment)
    FRAGMENT(ScheduleBottomSheet)
    COMPONENT(ScheduleViewModel)
    COMPONENT(GamesViewModel)
    COMPONENT(ScoresViewModel)

    package "models" {
        COMPONENT(GameDisplayItem)
    }

    package "widget" {
        FRAGMENT(CalendarPickerFragment)
    }

    package "record" {
        FRAGMENT(RecordGameDialogFragment)
        FRAGMENT(RecordScoreDialogFragment)
        FRAGMENT(DeleteGameDialogFragment)
        FRAGMENT(DeleteScoreDialogFragment)
    }
}

package "Data Layer" {
    COMPONENT(FightersRepository)
}

' --- Dependencies ---

ScheduleFragment ..> ScheduleViewModel
ScheduleFragment ..> GamesViewModel
ScheduleFragment ..> CalendarPickerFragment : "shows"
ScheduleFragment -> GamesPageFragment : "shows in ViewPager"
ScheduleFragment -> ScoresPageFragment : "shows in ViewPager"
GamesPageFragment ..> ScheduleViewModel
GamesPageFragment ..> GamesViewModel
ScoresPageFragment ..> ScheduleViewModel
ScoresPageFragment ..> GamesViewModel
ScoresPageFragment ..> ScoresViewModel

GamesPageFragment ..> ScheduleBottomSheet : "shows"
GamesPageFragment ..> RecordGameDialogFragment : "shows"
GamesPageFragment ..> DeleteGameDialogFragment : "shows"
ScoresPageFragment ..> ScheduleBottomSheet : "shows"
ScoresPageFragment ..> RecordScoreDialogFragment : "shows"
ScoresPageFragment ..> DeleteScoreDialogFragment : "shows"

CalendarPickerFragment ..> ScheduleViewModel
RecordGameDialogFragment ..> GamesViewModel
RecordScoreDialogFragment ..> ScoresViewModel
DeleteGameDialogFragment ..> GamesViewModel
DeleteScoreDialogFragment ..> ScoresViewModel

ScheduleViewModel -> FightersRepository
GamesViewModel -> FightersRepository
GamesViewModel .> GameDisplayItem : uses
ScoresViewModel -> FightersRepository
@enduml
